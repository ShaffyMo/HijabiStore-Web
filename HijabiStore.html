<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HijabiStore</title>
    <!-- Use Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load React and ReactDOM from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Load Babel for JSX and modern JS syntax -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Load Firebase SDKs from CDN (version 9.6.0 for global access) -->
    <!-- These scripts will make functions like initializeApp, getAuth, getFirestore available globally -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore.js"></script>

    <style>
      /* Simple CSS for body font and animations */
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
      body {
        font-family: 'Inter', sans-serif;
      }
      .animate-fadeInUp {
        animation: fadeInUp 1s ease-out;
      }
      .animate-fadeIn {
        animation: fadeIn 1s ease-out;
      }
      .animate-scaleIn {
        animation: scaleIn 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes scaleIn {
        from {
          transform: scale(0.8);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }
    </style>
</head>
<body class="bg-gray-100 antialiased">
    <div id="root"></div>

    <script type="text/babel">
    // React components and logic
    const { useState, useEffect } = React;
    const { createRoot } = ReactDOM;

    // Lucide-React icons as inline SVGs for self-containment
    // These are simplified to prevent external module dependencies
    const Menu = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="4" y1="12" x2="20" y2="12"></line><line x1="4" y1="6" x2="20" y2="6"></line><line x1="4" y1="18" x2="20" y2="18"></line></svg>
    );
    const X = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M18 6L6 18M6 6l12 12"></path></svg>
    );
    const Lock = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
    );
    const Unlock = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M18 11V7a4 4 0 0 0-8-2.8"></path></svg>
    );
    const CheckCircle = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-8.67"></path><path d="M22 4L12 14.01l-3-3"></path></svg>
    );
    const AlertCircle = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
    );
    const Edit2 = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
    );
    const Trash2 = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
    );
    
    // Firebase functions are now globally available after loading the SDKs in the <head>
    // We can directly call them.
    const { initializeApp } = firebase;
    const { getAuth, signInWithCustomToken, onAuthStateChanged, signOut } = firebase.auth;
    const { getFirestore, collection, addDoc, doc, deleteDoc, updateDoc, onSnapshot } = firebase.firestore;


    function App() {
      // State for UI elements and data
      const [isMenuOpen, setIsMenuOpen] = useState(false);
      const [isAdminLoggedIn, setIsAdminLoggedIn] = useState(false);
      const [products, setProducts] = useState([]);
      const [isLoading, setIsLoading] = useState(true);
      const [showAdminPanel, setShowAdminPanel] = useState(false);
      const [showProductSuccess, setShowProductSuccess] = useState(false);
      const [showErrorMessage, setShowErrorMessage] = useState(false);
      const [showPasswordError, setShowPasswordError] = useState(false);
      
      // State for new product form and login
      const [newProductName, setNewProductName] = useState('');
      const [newProductPrice, setNewProductPrice] = useState('');
      const [newProductImage, setNewProductImage] = useState('');
      const [passwordInput, setPasswordInput] = useState('');
      
      // New state for product editing and deletion
      const [editingProduct, setEditingProduct] = useState(null);
      const [showDeleteModal, setShowDeleteModal] = useState(false);
      const [productToDelete, setProductToDelete] = useState(null);

      // Firestore and Auth instances
      const [db, setDb] = useState(null);
      const [auth, setAuth] = useState(null);
      const [isAuthReady, setIsAuthReady] = useState(false);
      
      // Hardcoded password for this simple example
      const ADMIN_PASSWORD = 'password123';

      // --- Firebase Initialization and Authentication ---
      useEffect(() => {
        try {
          // Use provided global variables for Firebase configuration
          const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
          const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');

          if (!Object.keys(firebaseConfig).length) {
            console.error("Firebase config is missing. Please provide it.");
            setIsLoading(false);
            return;
          }

          // Initialize Firebase app and services using the globally available functions
          const app = initializeApp(firebaseConfig);
          const authInstance = getAuth(app); 
          const dbInstance = getFirestore(app);

          setAuth(authInstance);
          setDb(dbInstance);

          // Listen for auth state changes to set isAdminLoggedIn
          const unsubscribe = onAuthStateChanged(authInstance, (user) => { 
            if (user) {
              setIsAdminLoggedIn(true);
            } else {
              setIsAdminLoggedIn(false);
            }
            setIsAuthReady(true);
          });
          
          return () => unsubscribe();
        } catch (e) {
          console.error("Firebase setup failed:", e);
          setIsLoading(false);
        }
      }, []);

      // --- Real-time Public Products Data Fetching from Firestore ---
      useEffect(() => {
        // Only subscribe to Firestore if Firebase is ready AND admin is logged in
        if (!db || !isAdminLoggedIn) {
          setIsLoading(false); // Stop loading if not logged in
          return;
        }
        
        // Set loading to true before starting the subscription
        setIsLoading(true);

        const productsPath = `/artifacts/${typeof __app_id !== 'undefined' ? __app_id : 'default-app-id'}/public/data/products`;
        const productsCollectionRef = collection(db, productsPath); // Use collection() with db instance

        const unsubscribe = onSnapshot(productsCollectionRef, (snapshot) => { // Use onSnapshot with collectionRef
          const updatedProducts = [];
          snapshot.forEach((doc) => {
            updatedProducts.push({ id: doc.id, ...doc.data() });
          });
          setProducts(updatedProducts);
          setIsLoading(false);
        }, (error) => {
          console.error("Error listening to products changes:", error);
          setIsLoading(false);
        });

        // Cleanup function to unsubscribe from the listener when component unmounts or dependencies change
        return () => unsubscribe();
      }, [db, isAdminLoggedIn]);

      // --- UI State Management ---
      const handleToggleMenu = () => setIsMenuOpen(!isMenuOpen);
      const handleToggleAdminPanel = () => {
        setShowAdminPanel(!showAdminPanel);
        setShowPasswordError(false); // Clear error on panel toggle
        setPasswordInput(''); // Clear password field on panel toggle
        setEditingProduct(null); // Reset editing state on panel close
        setNewProductName('');
        setNewProductPrice('');
        setNewProductImage('');
      };

      // --- Admin Functionality: Add, Edit, Delete Products ---
      const handleAddOrUpdateProduct = async (e) => {
        e.preventDefault();
        if (!db || !isAdminLoggedIn) {
          console.error("Not authorized to add or update products.");
          return;
        }
        
        // Simple validation
        if (!newProductName || !newProductPrice || !newProductImage) {
          setShowErrorMessage(true);
          setTimeout(() => setShowErrorMessage(false), 3000);
          return;
        }
        
        // Create product data object
        const productData = {
          name: newProductName,
          price: parseFloat(newProductPrice),
          imageUrl: newProductImage,
        };

        try {
          if (editingProduct) {
            // Update existing product
            const productDocRef = doc(db, `/artifacts/${typeof __app_id !== 'undefined' ? __app_id : 'default-app-id'}/public/data/products`, editingProduct.id); // Use doc()
            await updateDoc(productDocRef, productData); // Use updateDoc()
            setEditingProduct(null); // Clear editing state
          } else {
            // Add new product
            const productsCollectionRef = collection(db, `/artifacts/${typeof __app_id !== 'undefined' ? __app_id : 'default-app-id'}/public/data/products`); // Use collection()
            await addDoc(productsCollectionRef, { ...productData, timestamp: new Date().toISOString() }); // Use addDoc()
          }
          
          // Reset form and show success message
          setNewProductName('');
          setNewProductPrice('');
          setNewProductImage('');
          setShowProductSuccess(true);
          setTimeout(() => setShowProductSuccess(false), 3000);
          
        } catch (e) {
          console.error("Error adding/updating product: ", e);
        }
      };
      
      const handleEditClick = (product) => {
          setEditingProduct(product);
          setNewProductName(product.name);
          setNewProductPrice(product.price);
          setNewProductImage(product.imageUrl);
          setShowAdminPanel(true);
      };
      
      const handleDeleteClick = (product) => {
        setProductToDelete(product);
        setShowDeleteModal(true);
      };

      const confirmDelete = async () => {
        if (!db || !isAdminLoggedIn || !productToDelete) {
          console.error("Not authorized to delete product or no product selected.");
          return;
        }
        
        try {
          const productDocRef = doc(db, `/artifacts/${typeof __app_id !== 'undefined' ? __app_id : 'default-app-id'}/public/data/products`, productToDelete.id); // Use doc()
          await deleteDoc(productDocRef); // Use deleteDoc()
          console.log("Product successfully deleted.");
        } catch (e) {
          console.error("Error deleting product:", e);
        } finally {
          setShowDeleteModal(false);
          setProductToDelete(null);
        }
      };

      // --- Login with a password ---
      const handleLogin = async (e) => {
        e.preventDefault();
        if (passwordInput === ADMIN_PASSWORD) {
          const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
          if (initialAuthToken) {
            try {
              setIsLoading(true);
              // Use signInWithCustomToken directly from Firebase Auth module
              await signInWithCustomToken(auth, initialAuthToken); 
              setShowPasswordError(false);
            } catch (error) {
              console.error("Custom token sign-in failed:", error);
              setShowPasswordError(true);
              setIsLoading(false);
            }
          } else {
            console.error("Authentication token not available.");
            setShowPasswordError(true);
            setIsLoading(false);
          }
        } else {
          setShowPasswordError(true);
          setTimeout(() => setShowPasswordError(false), 3000);
        }
        setPasswordInput('');
      };
      
      const handleAdminLogout = () => {
        if (auth) {
          // Use signOut directly from Firebase Auth module
          signOut(auth).then(() => { 
            console.log("Admin signed out.");
            setIsAdminLoggedIn(false);
            setShowAdminPanel(false);
          }).catch((error) => {
            console.error("Sign out error:", error);
          });
        }
      };

      // Helper component for Product Card
      const ProductCard = ({ product, isAdmin }) => (
        <div className="bg-white rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-2xl">
          <img src={product.imageUrl} alt={product.name} className="w-full h-80 object-cover" />
          <div className="p-4 flex flex-col items-center text-center">
            <h3 className="font-semibold text-lg text-gray-800">{product.name}</h3>
            <p className="mt-1 text-sm text-gray-600">RWF {product.price.toLocaleString()}</p>
            
            {/* Conditional rendering of buttons for admin */}
            {isAdmin ? (
              <div className="mt-4 flex space-x-2">
                <button onClick={() => handleEditClick(product)} className="flex items-center justify-center w-10 h-10 rounded-full bg-purple-500 text-white hover:bg-purple-600 transition-colors">
                  <Edit2 size={16} />
                </button>
                <button onClick={() => handleDeleteClick(product)} className="flex items-center justify-center w-10 h-10 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors">
                  <Trash2 size={16} />
                </button>
              </div>
            ) : (
              <a href="mailto:aishamahirwe@gmail.com" className="mt-4 px-6 py-2 bg-purple-600 text-white text-sm font-medium rounded-full hover:bg-purple-700 transition-colors duration-300 transform hover:scale-105">
                Order Now
              </a>
            )}
          </div>
        </div>
      );
      
      // Custom Delete Confirmation Modal
      const DeleteModal = () => (
        <div className="fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-900 bg-opacity-70 z-[100]">
          <div className="bg-white p-8 rounded-xl shadow-2xl text-center max-w-sm w-full animate-scaleIn">
            <AlertCircle size={48} className="text-red-500 mx-auto mb-4" />
            <h3 className="font-bold text-lg mb-2 text-gray-800">Confirm Deletion</h3>
            <p className="text-gray-600 mb-6">Are you sure you want to delete this product? This action cannot be undone.</p>
            <div className="flex justify-center space-x-4">
              <button
                onClick={() => setShowDeleteModal(false)}
                className="px-4 py-2 text-sm font-medium text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors"
              >
                Cancel
              </button>
              <button
                onClick={confirmDelete}
                className="px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors"
              >
                Delete
              </button>
            </div>
          </div>
        </div>
      );

      return (
        <div className="font-sans bg-gray-100 min-h-screen antialiased text-gray-800">
          {/* Product Added/Updated Success Message */}
          {showProductSuccess && (
            <div className="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[100] bg-white p-6 rounded-xl shadow-2xl text-center border-2 border-green-500 transform animate-scaleIn">
              <CheckCircle size={48} className="text-green-500 mx-auto mb-2" />
              <p className="text-gray-800">Product {editingProduct ? 'updated' : 'added'} successfully!</p>
            </div>
          )}
          
          {/* Error Message Modal */}
          {showErrorMessage && (
            <div className="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[100] bg-white p-6 rounded-xl shadow-2xl text-center border-2 border-red-500 transform animate-scaleIn">
              <AlertCircle size={48} className="text-red-500 mx-auto mb-2" />
              <p className="text-gray-800">Please fill in all fields.</p>
            </div>
          )}
          
          {/* Password Error Modal */}
          {showPasswordError && (
            <div className="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[100] bg-white p-6 rounded-xl shadow-2xl text-center border-2 border-red-500 transform animate-scaleIn">
              <AlertCircle size={48} className="text-red-500 mx-auto mb-2" />
              <p className="text-gray-800">Incorrect password.</p>
            </div>
          )}
          
          {/* Delete Confirmation Modal */}
          {showDeleteModal && <DeleteModal />}

          {/* Header */}
          <header className="sticky top-0 z-50 bg-white shadow-md rounded-b-xl">
            <div className="container mx-auto px-4 py-4 flex justify-between items-center">
              <a href="#" className="text-2xl font-bold text-purple-600">HijabiStore</a>
              <nav className="hidden md:flex space-x-8">
                <a href="#" className="text-gray-600 hover:text-purple-600 transition-colors duration-200 font-medium">Home</a>
                <a href="#products" className="text-gray-600 hover:text-purple-600 transition-colors duration-200 font-medium">Shop</a>
                <a href="#about" className="text-gray-600 hover:text-purple-600 transition-colors duration-200 font-medium">About</a>
                <a href="#contact" className="text-gray-600 hover:text-purple-600 transition-colors duration-200 font-medium">Contact</a>
              </nav>

              <div className="flex items-center space-x-4">
                <button
                  onClick={handleToggleAdminPanel}
                  aria-label="Admin Panel"
                  className="text-gray-600 hover:text-purple-600 transition-colors duration-200 focus:outline-none"
                >
                  {isAdminLoggedIn ? <Unlock size={24} /> : <Lock size={24} />}
                </button>
                <button
                  onClick={handleToggleMenu}
                  className="md:hidden text-gray-600 hover:text-purple-600 transition-colors duration-200 focus:outline-none"
                  aria-label="Toggle Menu"
                >
                  {isMenuOpen ? <X size={28} /> : <Menu size={28} />}
                </button>
              </div>
            </div>

            <nav className={`md:hidden overflow-hidden transition-all duration-300 ease-in-out ${isMenuOpen ? 'max-h-60' : 'max-h-0'}`}>
              <div className="bg-white pb-4 border-t border-gray-200">
                <a href="#" className="block px-8 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">Home</a>
                <a href="#products" className="block px-8 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">Shop</a>
                <a href="#about" className="block px-8 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">About</a>
                <a href="#contact" className="block px-8 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">Contact</a>
              </div>
            </nav>
          </header>

          <main>
            {/* Admin Panel Drawer */}
            <div
              className={`fixed top-0 right-0 h-full w-full md:w-96 bg-gray-50 transition-transform duration-300 ease-in-out shadow-2xl z-50 transform ${
                showAdminPanel ? 'translate-x-0' : 'translate-x-full'
              }`}
            >
              <div className="p-6 flex flex-col h-full">
                <div className="flex justify-between items-center pb-4 border-b border-gray-200">
                  <h3 className="text-2xl font-bold text-gray-800">Admin Panel</h3>
                  <button onClick={handleToggleAdminPanel} aria-label="Close Admin Panel" className="text-gray-600 hover:text-gray-800 transition-colors">
                    <X size={28} />
                  </button>
                </div>

                {isAdminLoggedIn ? (
                  <div className="flex-grow mt-4">
                    <p className="text-gray-600 mb-4">{editingProduct ? 'Edit a product' : 'Add a new product'}</p>
                    <form onSubmit={handleAddOrUpdateProduct} className="space-y-4">
                      <div>
                        <label htmlFor="productName" className="block text-sm font-medium text-gray-700">Product Name</label>
                        <input
                          type="text"
                          id="productName"
                          value={newProductName}
                          onChange={(e) => setNewProductName(e.target.value)}
                          className="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"
                        />
                      </div>
                      <div>
                        <label htmlFor="productPrice" className="block text-sm font-medium text-gray-700">Price (RWF)</label>
                        <input
                          type="number"
                          id="productPrice"
                          value={newProductPrice}
                          onChange={(e) => setNewProductPrice(e.target.value)}
                          step="0.01"
                          className="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"
                        />
                      </div>
                      <div>
                        <label htmlFor="productImage" className="block text-sm font-medium text-gray-700">Image URL</label>
                        <input
                          type="url"
                          id="productImage"
                          value={newProductImage}
                          onChange={(e) => setNewProductImage(e.target.value)}
                          className="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"
                        />
                      </div>
                      <button
                        type="submit"
                        className="w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"
                      >
                        {editingProduct ? 'Update Product' : 'Add Product'}
                      </button>
                      {editingProduct && (
                        <button
                          type="button"
                          onClick={() => setEditingProduct(null)}
                          className="w-full py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
                        >
                          Cancel Edit
                        </button>
                      )}
                    </form>
                    <button
                      onClick={handleAdminLogout}
                      className="mt-4 w-full py-2 px-4 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-600 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"
                    >
                      Logout
                    </button>
                  </div>
                ) : (
                  <div className="flex-grow flex flex-col items-center justify-center space-y-4">
                    <p className="text-center text-gray-500">Enter password to manage stock.</p>
                    <form onSubmit={handleLogin} className="w-full max-w-xs space-y-4">
                      <input
                        type="password"
                        placeholder="Enter password"
                        value={passwordInput}
                        onChange={(e) => setPasswordInput(e.target.value)}
                        className="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"
                      />
                      <button
                        type="submit"
                        className="w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
                      >
                        Login
                      </button>
                    </form>
                  </div>
                )}
              </div>
            </div>

            {/* Hero Section */}
            <section className="bg-gradient-to-r from-purple-100 to-pink-100 py-20 md:py-32 rounded-b-3xl shadow-xl">
              <div className="container mx-auto px-4 text-center">
                <h1 className="text-4xl md:text-6xl font-extrabold text-purple-800 leading-tight mb-4 animate-fadeInUp">
                  Elegance Meets Modesty
                </h1>
                <p className="text-lg md:text-xl text-gray-600 max-w-2xl mx-auto mb-8 animate-fadeIn delay-200">
                  Discover beautiful and thoughtfully designed clothing that celebrates style and tradition.
                </p>
                <a href="#products" className="inline-block px-8 py-3 bg-purple-600 text-white text-lg font-bold rounded-full shadow-lg transition-all duration-300 hover:bg-purple-700 transform hover:scale-105 animate-fadeIn delay-400">
                  Shop Our Collection
                </a>
              </div>
            </section>

            {/* Products Section */}
            <section id="products" className="py-16 md:py-24">
              <div className="container mx-auto px-4">
                <h2 className="text-3xl md:text-4xl font-bold text-center mb-12 text-gray-800">Our Products</h2>
                {isLoading ? (
                  <div className="text-center text-gray-500">Loading products...</div>
                ) : (
                  <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    {products.length > 0 ? (
                      products.map(product => (
                        <ProductCard key={product.id} product={product} isAdmin={isAdminLoggedIn} />
                      ))
                    ) : (
                      <p className="col-span-full text-center text-gray-500">No products available. Please check back later!</p>
                    )}
                  </div>
                )}
              </div>
            </section>

            {/* About Us Section */}
            <section id="about" className="bg-white py-16 md:py-24 rounded-t-3xl shadow-lg">
              <div className="container mx-auto px-4 text-center max-w-3xl">
                <h2 className="text-3xl md:text-4xl font-bold mb-6 text-gray-800">Our Story</h2>
                <p className="text-gray-600 leading-relaxed">
                  HijabiStore was founded with a passion for providing high-quality, elegant, and modest clothing for women. We believe that fashion should empower and inspire, without compromising on personal values. Our collection is curated to offer versatile pieces that are perfect for any occasion.
                </p>
              </div>
            </section>
          </main>

          {/* Footer */}
          <footer id="contact" className="bg-gray-800 text-gray-300 py-12 rounded-t-3xl shadow-inner">
            <div className="container mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
              <div>
                <h4 className="text-lg font-semibold text-white mb-4">HijabiStore</h4>
                <p className="text-sm">Elegance meets modesty. Curated for the modern woman.</p>
              </div>
              <div className="flex flex-col items-center md:items-start">
                <h4 className="text-lg font-semibold text-white mb-4">Quick Links</h4>
                <ul className="space-y-2 text-sm">
                  <li><a href="#" className="hover:text-white transition-colors">Home</a></li>
                  <li><a href="#products" className="hover:text-white transition-colors">Shop</a></li>
                  <li><a href="#about" className="hover:text-white transition-colors">About</a></li>
                  <li><a href="#contact" className="hover:text-white transition-colors">Contact</a></li>
                </ul>
              </div>
              <div className="flex flex-col items-center md:items-start">
                <h4 className="text-lg font-semibold text-white mb-4">Contact Us</h4>
                <p className="text-sm">Musanze, Rwanda</p>
                <p className="text-sm">Tel: +250 793145223</p>
                <p className="text-sm">Email: <a href="mailto:aishamahirwe@gmail.com" className="hover:text-white">aishamahirwe@gmail.com</a></p>
                <p className="text-sm mt-4 font-semibold text-purple-400">Order by phone or email!</p>
              </div>
            </div>
            <div className="mt-8 text-center text-gray-500 text-sm border-t border-gray-700 pt-4">
              <p>&copy; {new Date().getFullYear()} HijabiStore. All Rights Reserved.</p>
            </div>
          </footer>
        </div>
      );
    }
    
    // Initial render of the App component
    const root = createRoot(document.getElementById('root'));
    root.render(<App />);

    </script>
</body>
</html>
